import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,a,o as n}from"./app-CBSaRax9.js";const r="/assets/Snipaste_2020-01-18_09-35-51-o3SztYxF.avif",l="/assets/Snipaste_2020-01-18_09-40-08-4mocI2E6.avif",t="data:image/avif;base64,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",d={};function h(p,i){return n(),s("div",null,i[0]||(i[0]=[a('<p>以前一直觉得ArchLinux安装很麻烦，不敢尝试，现在自以为Linux已经有一些基础了，就打算试一下。参考<a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noopener noreferrer">ArchWiki</a>，结合自己了解的一点知识，记录一下安装过程。</p><p>顺便说一下，想要玩转这个东西，看教程的时候一定要明白每一步的命令是在做什么，如果想要使用和教程不一样的方法，命令应该怎么写。比如想要boot单独分区，这个时候应该怎么挂载。</p><p>建议第一次尝试在虚拟机里安装，等熟悉了再上手，这个对新手真不简单，本文演示环境是Hyper-V虚拟机，没有安装图形界面，所以不会介绍显卡驱动值之类的问题。</p><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h2><h3 id="下载镜像" tabindex="-1"><a class="header-anchor" href="#下载镜像"><span>下载镜像</span></a></h3><p>先下载一个Arch的镜像，建议从国内的镜像源去下载，可以直接从<a href="https://mirrors.huaweicloud.com/archlinux/iso/" target="_blank" rel="noopener noreferrer">华为开源镜像站</a>下载。</p><h3 id="制作启动盘" tabindex="-1"><a class="header-anchor" href="#制作启动盘"><span>制作启动盘</span></a></h3><p>由于本文是在虚拟机里面安装，就没有这一步了，改成创建虚拟机，具体步骤就不记录了。但是有一点一定要注意，一定要能联网。</p><p>创建完虚拟机以后，挂载虚拟光驱，关闭安全启动，然后调整启动顺序为从光盘启动。连接，开机。</p><p>启动U盘建议使用<a href="http://rufus.ie/" target="_blank" rel="noopener noreferrer">rufus</a>制作，都是傻瓜一键式，很简单的。</p><h3 id="验证启动模式" tabindex="-1"><a class="header-anchor" href="#验证启动模式"><span>验证启动模式</span></a></h3><p>现在大部分都说uefi启动了，bios方式本文就不记录了，就是记录上也是抄的别人的，没验证过的东西。如果哪里有不一样的地方，会顺带提一下，不一样的地方可以去参考<a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noopener noreferrer">WiKi</a></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># ls /sys/firmware/efi/efivars</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="联网" tabindex="-1"><a class="header-anchor" href="#联网"><span>联网</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># dhcpcd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果路由器设置是动态分配ip的话，一般没啥问题，如果是静态ip，或者是使用无线网络，请参考<a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noopener noreferrer">WiKi</a></p><p>验证联网</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># ping www.baidu.com</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="更新系统时间" tabindex="-1"><a class="header-anchor" href="#更新系统时间"><span>更新系统时间</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># timedatectl set-ntp true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="磁盘分区" tabindex="-1"><a class="header-anchor" href="#磁盘分区"><span>磁盘分区</span></a></h3><p>这一步是重点，和WiKi有点不一样，仔细看。</p><p>查看磁盘</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># fdiks -l</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># fdisk /dev/sda</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后按照下图所示的方法创建几个分区，这里想怎么分就怎么分。只是你分完了分区别忘了挂载就可以了，我自认为自己的分区方法还算比较合理的，适合大部分用户使用。</p><figure><img src="'+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>上图还没有做完，还需要修改分区类型(最后不需要w，我是因为忘记改了，才直接w写入的)</p><figure><img src="'+l+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果是bios启动，不需要创建EFI分区，如果是已经有分区表的磁盘，不需要输入g创建gpt分区表。</p><p>然后再格式化分区</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># mkfs.fat /dev/sda1</span></span>
<span class="line"><span></span></span>
<span class="line"><span># mkfs.ext4 /dev/sda2</span></span>
<span class="line"><span></span></span>
<span class="line"><span># mkfs.ext4 /dev/sda3</span></span>
<span class="line"><span>或</span></span>
<span class="line"><span># mkfs.btrfs /dev/sda3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="挂载分区" tabindex="-1"><a class="header-anchor" href="#挂载分区"><span>挂载分区</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># mount /dev/sda3 /mnt</span></span>
<span class="line"><span></span></span>
<span class="line"><span># mkdir /mnt/boot</span></span>
<span class="line"><span># mkdir /mnt/efi</span></span>
<span class="line"><span></span></span>
<span class="line"><span># mount /dev/sda2 /mnt/boot</span></span>
<span class="line"><span># mount /dev/sda1 /mnt/efi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你不想这么做，想要把efi目录放在boot目录下，也是可以的，也就是<code>mkdir /boot/efi</code>和<code>mount /dev/sda1 /mnt/boot/efi</code>，后面安装引导时候的命令也会改变。反正如果你理解了Linux目录和分区是怎么回事，就可以想怎么搞就怎么搞。</p><p>如果是BIOS方式启动的话，这里没有efi分区的事。</p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><h3 id="选择镜像" tabindex="-1"><a class="header-anchor" href="#选择镜像"><span>选择镜像</span></a></h3><p>同样选择华为开源镜像，修改<code>/etc/pacman.d/mirrorlist</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># vim /etc/pacman.d/mirrorlist</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在前面插入</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">Server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> https://mirrors.huaweicloud.com/archlinux/$repo/os/$arch</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="安装基本包" tabindex="-1"><a class="header-anchor" href="#安装基本包"><span>安装基本包</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># pacstrap /mnt base base-devel linux</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="配置系统" tabindex="-1"><a class="header-anchor" href="#配置系统"><span>配置系统</span></a></h2><h3 id="fstab" tabindex="-1"><a class="header-anchor" href="#fstab"><span>Fstab</span></a></h3><p>先配置分区挂载</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># genfstab -L /mnt &gt;&gt; /mnt/etc/fstab</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>前面两个命令都可以，只是一个使用UUID，一个使用卷标。配置之后再检查一下</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># cat /mnt/etc/fatab</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="chroot" tabindex="-1"><a class="header-anchor" href="#chroot"><span>Chroot</span></a></h3><p>change root，也就是离开live环境，把操作权交给新安装的系统。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># arch-chroot /mnt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="设置时区" tabindex="-1"><a class="header-anchor" href="#设置时区"><span>设置时区</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span>
<span class="line"><span></span></span>
<span class="line"><span># hwclock --systohc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="提前安装一些软件包" tabindex="-1"><a class="header-anchor" href="#提前安装一些软件包"><span>提前安装一些软件包</span></a></h3><p>因为后面需要用到一些软件，所有提前安装好</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># pacman -S vim net-tools</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="语言本地化" tabindex="-1"><a class="header-anchor" href="#语言本地化"><span>语言本地化</span></a></h3><p>修改<code>/etc/locale.gen</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># vim /etc/locale.gen</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>把下面几行注释删除，使其生效</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">en_US.UTF-8 UTF-8</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">zh_CN.UTF-8 UTF-8</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">zh_TW.UTF-8 UTF-8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着执行 locale-gen</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># locale-gen</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建locale.conf，并编辑</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># vim /etc/locale.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>插入</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">LANG</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">en_US.UTF-8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="配置网络" tabindex="-1"><a class="header-anchor" href="#配置网络"><span>配置网络</span></a></h3><p>首先设置主机名，比如说我设置的叫arch</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># vim /etc/hostname</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">acrh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改hosts，添加下面的内容</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># vim /etc/hosts</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">127.0.0.1        localhost</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">::1		         localhost</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">127.0.1.1	     arch.local        arch</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="设置root密码" tabindex="-1"><a class="header-anchor" href="#设置root密码"><span>设置root密码</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># passwd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="安装引导程序" tabindex="-1"><a class="header-anchor" href="#安装引导程序"><span>安装引导程序</span></a></h2><h3 id="安装intel-ucode" tabindex="-1"><a class="header-anchor" href="#安装intel-ucode"><span>安装Intel-ucode</span></a></h3><p>这一步可省略，非intel跳过</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># pcanma -S intel-ucode</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="安装grub" tabindex="-1"><a class="header-anchor" href="#安装grub"><span>安装grub</span></a></h3><p>这里如果是BIOS方式启动，会不一样，EFI启动可以接着看</p><p>这一步之前请先检查<code>/boot</code>目录</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># ls /boot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看是否有</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>initramfs-linux-fallback.img</span></span>
<span class="line"><span>initramfs-linux.img</span></span>
<span class="line"><span>vmlinuz-linux</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果没有这几个文件，就是Linux没有部署好，执行</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># pacman -S linux</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后再重新检查，确定有这几个文件，继续安装引导</p><p>安装os-prober、grub和efibootmgr</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># pacman -S os-prober grub efibootmgr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>部署grub</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=grub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>生成配置文件</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># grub-mkconfig -o /boot/grub/grub.cfg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="安装完成" tabindex="-1"><a class="header-anchor" href="#安装完成"><span>安装完成</span></a></h2><p>完活，重启</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># exit</span></span>
<span class="line"><span># reboot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>重启以后会看到如下画面</p><figure><img src="`+t+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>再接下来就是设置交换分区文件，配置ssh等等，这些都说常识操作了，就不再记录了。</p>',105)]))}const g=e(d,[["render",h]]),k=JSON.parse('{"path":"/2020/01180.archlinux-install.html","title":"ArchLinux安装","lang":"zh-CN","frontmatter":{"title":"ArchLinux安装","date":"2020-01-18T12:08:35.000Z","tag":["Linux","涨姿势"],"keywords":"Arch Linux 安装 分区 挂载","comments":true,"redirectFrom":["/2020/archlinux-install.html"],"description":"以前一直觉得ArchLinux安装很麻烦，不敢尝试，现在自以为Linux已经有一些基础了，就打算试一下。参考ArchWiki，结合自己了解的一点知识，记录一下安装过程。 顺便说一下，想要玩转这个东西，看教程的时候一定要明白每一步的命令是在做什么，如果想要使用和教程不一样的方法，命令应该怎么写。比如想要boot单独分区，这个时候应该怎么挂载。","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ArchLinux安装\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-01-18T12:08:35.000Z\\",\\"dateModified\\":\\"2025-04-16T16:28:24.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MonoLogueChi\\",\\"url\\":\\"https://blog.u2sb.com\\"}]}"],["meta",{"property":"og:url","content":"https://blog.u2sb.com/2020/01180.archlinux-install.html"}],["meta",{"property":"og:site_name","content":"叉叉白"}],["meta",{"property":"og:title","content":"ArchLinux安装"}],["meta",{"property":"og:description","content":"以前一直觉得ArchLinux安装很麻烦，不敢尝试，现在自以为Linux已经有一些基础了，就打算试一下。参考ArchWiki，结合自己了解的一点知识，记录一下安装过程。 顺便说一下，想要玩转这个东西，看教程的时候一定要明白每一步的命令是在做什么，如果想要使用和教程不一样的方法，命令应该怎么写。比如想要boot单独分区，这个时候应该怎么挂载。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-16T16:28:24.000Z"}],["meta",{"property":"article:tag","content":"涨姿势"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2020-01-18T12:08:35.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-16T16:28:24.000Z"}]]},"git":{"createdTime":1744820904000,"updatedTime":1744820904000,"contributors":[{"name":"MonoLogueChi","username":"MonoLogueChi","email":"xxwhite@foxmail.com","commits":1,"url":"https://github.com/MonoLogueChi"}]},"readingTime":{"minutes":4.49,"words":1348},"filePathRelative":"2020/01180.archlinux-install.md","excerpt":"<p>以前一直觉得ArchLinux安装很麻烦，不敢尝试，现在自以为Linux已经有一些基础了，就打算试一下。参考<a href=\\"https://wiki.archlinux.org/index.php/Installation_guide\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">ArchWiki</a>，结合自己了解的一点知识，记录一下安装过程。</p>\\n<p>顺便说一下，想要玩转这个东西，看教程的时候一定要明白每一步的命令是在做什么，如果想要使用和教程不一样的方法，命令应该怎么写。比如想要boot单独分区，这个时候应该怎么挂载。</p>\\n","autoDesc":true}');export{g as comp,k as data};
